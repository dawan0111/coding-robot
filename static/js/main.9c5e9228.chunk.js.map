{"version":3,"sources":["sounds/bgm.wav","sounds/drop.wav","contexts/GameContext.tsx","images/carrot.svg","components/game/MapIcon.tsx","images/rabbit.png","components/game/Map.tsx","components/game/BluetoothButton.tsx","contexts/AudioContext.tsx","components/card/SortableCard.tsx","components/card/CardList.tsx","components/card/ForCard.tsx","images/for-start.png","images/for-end.png","components/card/Card.tsx","images/start.png","images/go.png","images/left-rotate.png","images/right-rotate.png","components/card/DraggableCard.tsx","images/play.svg","components/game/PlayButton.tsx","components/game/QueueControl.tsx","components/game/Control.tsx","components/game/CustomDragLayer.tsx","components/game/MapEdit.tsx","components/game/MapEditControl.tsx","components/Game.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["windowNavigator","navigator","GameContext","React","createContext","GameContextProvider","children","useState","page","setPage","queue","setQueue","Array","fill","map","setMap","activeMap","setActiveMap","queueId","setQueueId","bluetoothConnect","setBluetoothConnect","device","setDevice","Infinity","draggingIndex","setDraggingIndex","tempQueue","useMemo","find","x","temp","mapStartIndex","findIndex","reSortSetQueue","useCallback","reduce","acc","val","addQueue","type","parent","index","undefined","updateQueue","payload","deleteQueue","filter","deleteNextQueue","getQueueDeps","deps","findQueue","_","replaceQueue","droppingIndex","isRight","movingQueue","changeParent","changeQueue","slice","setBluetoothDevice","bluetooth","requestDevice","filters","services","then","gatt","connect","server","getPrimaryService","service","getCharacteristic","characteristic","data","Uint8Array","writeValue","catch","error","console","sendQueueData","hasingType","flatArray","queueP","length","loopCount","document","getElementById","childrens","Number","value","forEach","push","changeDraggingIndex","putMap","updateMap","coin","_map","_index","useEffect","Provider","changePage","changeActiveMap","MapIcon","src","carrotImage","alt","MapGrid","styled","div","MapGridItem","props","active","Map","editable","useContext","onClick","Button","button","BluetoothButton","className","soundMapper","require","default","AudioPlayerContext","AudioPlayerProvider","soundWrapperRef","useRef","getAudioElement","id","current","querySelector","play","options","audio","loop","Boolean","paused","pause","currentTime","stop","handleStopMusic","Object","keys","key","ref","entries","data-id","SortableCard","cardIndex","useDrop","accept","hover","item","monitor","isOverCurrent","hoverCard","hoverIndex","hoverBoundingRect","getBoundingClientRect","clientOffset","getClientOffset","hoverWidth","right","left","hoverClientX","tempQueueIndex","collect","hovered","isOver","shallow","getItem","drop","useDrag","aIndex","sort","begin","end","isDragging","drag","opacity","style","height","position","zIndex","top","width","Wrapper","SortCardList","didDrop","k","ForWrapper","ForStack","ForRangeInput","input","ForCard","defaultValue","Item","forwardRef","func","DraggableCard","preview","getEmptyImage","captureDraggingState","PlayBtn","PlayBtnWrapper","pushing","PlayButton","setPushing","onTouchStart","e","onTouchEnd","playImg","QueueForm","QueueWrapper","Queue","QueueControl","QueueControlWrapper","ItemWrapper","usingCards","Control","card","layerStyles","pointerEvents","getItemStyles","initialOffset","currentOffset","isSnapToGrid","display","y","transform","WebkitTransform","CustomDragLayer","useDragLayer","itemType","getItemType","getInitialSourceClientOffset","getSourceClientOffset","snapToGrid","renderItem","MapEditWrapper","MapEdit","EditButton","mapIcons","MapWrapper","ControlWrapper","StatusBar","StartWrapper","MapScreen","SettingButton","BackButton","GameStart","GamePlay","Game","DndProvider","backend","TouchBackend","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.9c5e9228.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/bgm.dd51a015.wav\";","export default __webpack_public_path__ + \"static/media/drop.81a8bdc2.wav\";","import _, { drop } from 'lodash'\nimport React from 'react'\nimport { card, cardType } from '../types/card'\nimport { coinT } from '../types/coin'\n\n// eslint-disable-next-line @typescript-eslint/no-use-before-define\nconst windowNavigator: any = navigator\n\ntype pageT = 'mapEdit' | 'game' | 'gameStart'\n\ninterface valueT {\n  page: pageT\n  map: Array<coinT>\n  mapStartIndex: number\n  queue: Array<card>\n  tempQueue: card | undefined\n  bluetoothConnect: boolean\n  draggingIndex: number\n  activeMap: number\n\n  changePage: (page: pageT) => void\n\n  addQueue: (type: cardType, parent?: number, temp?: boolean) => void\n  getQueueDeps: (index: number | undefined) => number\n  updateQueue: (index: number, payload: card) => void\n  deleteQueue: (index: number) => void\n  deleteNextQueue: (index: number) => void\n  replaceQueue: (index1: number, index2: number, isRight: boolean) => void\n  reSortSetQueue: (queue: Array<card>) => void\n\n  putMap: (map: Array<coinT>) => void\n  updateMap: (index: number, coin: coinT) => void\n\n  setBluetoothDevice: () => void\n  sendQueueData: () => void\n\n  changeDraggingIndex: (index: number) => void\n  changeActiveMap: (index: number) => void\n}\n\nconst GameContext = React.createContext({} as valueT)\n\nexport default GameContext\n\nexport function GameContextProvider({ children }: React.PropsWithChildren<{}>) {\n  const [page, setPage] = React.useState<pageT>(\"mapEdit\")\n  const [queue, setQueue] = React.useState<Array<card>>([])\n  const [map, setMap] = React.useState<Array<coinT>>(Array(20).fill(\"empty\"))\n  const [activeMap, setActiveMap] = React.useState<number>(-1)\n\n  const [queueId, setQueueId] = React.useState(1)\n  const [bluetoothConnect, setBluetoothConnect] = React.useState(false)\n  const [device, setDevice] = React.useState<any>(null)\n  const [draggingIndex, setDraggingIndex] = React.useState(Infinity)\n\n  const tempQueue = React.useMemo(() => (\n    queue.find(x => x.temp === true)\n  ), [queue])\n\n  const mapStartIndex = React.useMemo(() => (\n    map.findIndex(x => x === \"start\")\n  ), [map])\n\n  const reSortSetQueue = React.useCallback((queue: Array<card>) => {\n    setQueue(\n      queue.reduce((acc, val) => (\n        [...acc, {\n          ...val,\n          temp: false,\n        }]\n      ), [] as Array<card>)\n    )\n  }, [])\n\n  const addQueue = React.useCallback((type: cardType, parent?: number, temp?: boolean) => {\n    setQueue(queue => ([\n      ...queue,\n      {\n        type,\n        parent,\n        index: queueId,\n        temp: temp === undefined ? false : true\n      }\n    ]))\n    setQueueId(queueId + 1)\n  }, [queueId])\n\n  const updateQueue = React.useCallback((index: number, payload: card) => {\n    setQueue(queue => (queue.map(x => x.index !== index ? x : {\n      ...x,\n      ...payload\n    })))\n  }, [])\n\n  const deleteQueue = React.useCallback((index: number) => {\n    reSortSetQueue(queue.filter(val => val.index !== index))\n  }, [reSortSetQueue, queue])\n\n  const deleteNextQueue = React.useCallback((index: number) => {\n    reSortSetQueue(queue.filter(val => val.index < index))\n  }, [reSortSetQueue, queue])\n\n  const getQueueDeps = React.useCallback((index) => {\n    let deps = 0;\n\n    (function find(index, queue) {\n      if (index === undefined || index === -1) return deps;\n      deps += 1;\n\n      const findQueue = _.find(queue, ['index', index])\n      if (findQueue) {\n        find(findQueue.parent, queue)\n      }\n    })(index, queue)\n\n    return deps;\n  }, [queue])\n\n  const replaceQueue = React.useCallback((draggingIndex:number, droppingIndex:number, isRight: boolean) => {\n    const movingQueue = queue[draggingIndex];\n    const changeParent = queue[droppingIndex].parent;\n    const changeQueue = queue.filter((x, index) => index !== draggingIndex)\n    const isFront = isRight ? 0 : 0;\n\n    setQueue([\n      ...changeQueue.slice(0, droppingIndex + isFront),\n      {\n        ...movingQueue,\n        parent: changeParent\n      },\n      ...changeQueue.slice(droppingIndex + isFront)\n    ])\n  }, [queue])\n\n  const setBluetoothDevice = React.useCallback(() => {\n    windowNavigator.bluetooth.requestDevice({\n      filters: [{ services: [0xFFE0] }]\n    })\n      .then(function(device: any) {\n        return device.gatt.connect();\n      })\n      .then(function(server: any) {\n        return server.getPrimaryService(0xFFE0);\n      })\n      .then(function(service: any) {\n        return service.getCharacteristic(0xFFE1);\n      })\n      .then(function(characteristic: any) {\n        setBluetoothConnect(true)\n        setDevice(characteristic)\n        \n        var data = new Uint8Array([0xbb, 0x25, 0x05, 0x44, 0xbb, 0x25, 0x05, 0x44, 0xbb, 0x25, 0x05, 0x44, 0xbb, 0x25, 0x05, 0x44, 0xbb, 0x25, 0x05, 0x44, 0xbb, 0x25, 0x05, 0x44, 0xbb, 0x25, 0x05, 0x44, 0xbb, 0x25, 0x05, 0x44, 0xbb, 0x25, 0x05, 0x44, 0xbb, 0x25, 0x05, 0x44, 0xbb, 0x25, 0x05, 0x44, 0xbb, 0x25, 0x05, 0x44]);\n        return characteristic.writeValue(data);\n      })\n      .catch(function(error: any) {\n        console.error('Connection failed!', error);\n      });\n  }, [])\n\n  const sendQueueData = React.useCallback(() => {\n    const hasingType: Record<cardType, number> = {\n      \"go\": 0x01,\n      \"left-rotate\": 0x02,\n      \"right-rotate\": 0x03,\n      \"temp\": -1,\n      \"for\": -1,\n      \"start\": -1\n    }\n    let flatArray: any = [];\n\n    (function find(queueP: Array<card>, index: number) {\n\n      if (queueP.length <= index) return;\n      if (queueP[index].type === \"for\") {\n        const loopCount = document.getElementById(`for-${queueP[index].index}`) as HTMLInputElement;\n        const childrens = queue.filter(x => x.parent === queueP[index].index)\n\n        if (loopCount) {\n          Array(Number(loopCount.value)).fill(0).forEach(() => find(childrens, 0))\n        }\n      } else {\n        flatArray.push(hasingType[queueP[index].type]);\n      }\n\n      find(queueP, index + 1)\n    })(queue.filter(x => x.parent === undefined), 0)\n\n    var data = new Uint8Array([flatArray.length, ...flatArray]);\n\n    if (device !== null) {\n      device.writeValue(data)\n    }\n  }, [queue, device])\n\n  const changeDraggingIndex = React.useCallback((index: number) => {\n    setDraggingIndex(index)\n  }, [])\n\n  const putMap = React.useCallback((map) => {\n    setMap(map)\n  }, [])\n\n  const updateMap = React.useCallback((index, coin) => {\n    setMap((_map) => (\n      _map.map((val, _index) => (\n        _index === index ? coin: val\n      ))\n    ))\n  }, [])\n\n  React.useEffect(() => {\n  }, [queue])\n\n  return (\n    <GameContext.Provider value={{\n      page,\n      activeMap,\n      map,\n      mapStartIndex,\n      queue,\n      tempQueue,\n      bluetoothConnect,\n      draggingIndex,\n\n      changePage: setPage,\n\n      addQueue,\n      updateQueue,\n      deleteQueue,\n      deleteNextQueue,\n      replaceQueue,\n      reSortSetQueue,\n\n      getQueueDeps,\n\n      putMap,\n      updateMap,\n\n      setBluetoothDevice,\n      sendQueueData,\n\n      changeDraggingIndex,\n      changeActiveMap: setActiveMap\n    }}>\n      {children}\n    </GameContext.Provider>\n  )\n}","export default __webpack_public_path__ + \"static/media/carrot.3531d5d4.svg\";","import React from 'react'\nimport carrotImage from '../../images/carrot.svg'\nimport rabbitImage from '../../images/rabbit.png'\nimport { coinT } from '../../types/coin'\n\ntype Props = {\n  type: coinT,\n}\n\nexport default function MapIcon({ type }: Props) {\n  return (\n    <>\n      {type === \"carrot\" && <img src={carrotImage} alt=\"당근\" />}\n      {type === \"start\" && <img src={rabbitImage} alt=\"시작점\" />}\n    </>\n  )\n}\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAiCAYAAABfqvm9AAAACXBIWXMAAAsSAAALEgHS3X78AAABUElEQVRIiWP8////AQbsYAEUYwM49bAwMDDYM9z7zMDw5TdCWJmPgYGbBZcmBnx6WMCcu58ZGF59R0iKc4Ik8ZiHWw8Tfl2kg1EDR4KBkMSmzMvAIMGJEOVhBZEODAwMDTh1YtejAMp6/6nowInU9vIH+sTypv0X8Wq6ef8FGBNlYN3kTQz1UzaBaVyGpdQtAuMzVx9iyOMvUj7/YGC4heYSIQ44k5eLHUML1lgGednPUR9iYPpCBoZbLyESafYMnyIMGZ6//QbmqitKoGttZPiPB1y7evX//0/f//+PnPH//6YLYIUnjh/Hp6WBQCnKwPDp/y8GvmXpYPb1a9cYpGVk8KonmLBBhnz69AnM1tTSYuDj48OnvJGgC0GGkAIGf/EF8vJBJL49GWaAUvcDKPsBKNkgY3JAA7IZo7XeqIFkAPS87EiGGbBEzcDAwMAAAG3x9iANsHVYAAAAAElFTkSuQmCC\"","import React from 'react'\nimport styled from 'styled-components'\nimport GameContext from '../../contexts/GameContext'\n\nimport MapIcon from './MapIcon'\n\nconst MapGrid = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n\n  width: 100%;\n  height: 100%;\n\n  div {\n    width: 20%;\n    height: 25%;\n    background: #00c55a;\n\n    &:nth-child(even) {\n      background: #00ab4d;\n    }\n  }\n`\n\nconst MapGridItem = styled.div<{ active: boolean }>`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  ${props => props.active && (`\n    border: 2px solid #ff9000;\n  `)}\n  // border: ${props => props.active ? \"2px solid #ff9000\" : \"none\"}\n\n  & > img {\n    width: auto;\n    height: 40%;\n  }\n`\n\ntype Props = {\n  editable?: boolean\n}\n\nexport default function Map({ editable = false }: Props) {\n  const { map, activeMap, changeActiveMap } = React.useContext(GameContext)\n\n  return (\n    <MapGrid>\n      {map.map((val, index) => (\n        <MapGridItem active={editable && activeMap === index} key={index} onClick={() => {\n          editable && changeActiveMap(activeMap === index ? -1 : index);\n        }}>\n          <MapIcon type={val} />\n        </MapGridItem>\n      ))}\n    </MapGrid>\n  )\n}\n","import React from 'react'\nimport styled from 'styled-components'\nimport GameContext from '../../contexts/GameContext'\n\nconst Button = styled.button<{ connect: boolean }>`\n  border: none;\n  background: none;\n\n  color: ${props => props.connect ? \"#0983fe\" : \"#000\"};\n  opacity: ${props => props.connect ? 1 : 0.2};\n\n  &:focus {\n    outline: none;\n  }\n`\n\nexport default function BluetoothButton() {\n  const { bluetoothConnect, setBluetoothDevice } = React.useContext(GameContext)\n  return (\n    <Button connect={bluetoothConnect} onClick={() => setBluetoothDevice()}>\n      <span className=\"material-icons\">bluetooth</span>\n    </Button>\n  )\n}","import React from 'react'\ntype audioT = \"bgm\" | \"drop\"\n\nconst soundMapper: Record<audioT, string> = {\n  \"bgm\": require(\"../sounds/bgm.wav\").default,\n  \"drop\": require(\"../sounds/drop.wav\").default,\n}\n\ninterface audioPlayOptionT {\n  loop?: boolean;\n}\n\ninterface AudioPlayerContextT {\n  play(id: audioT, options?: audioPlayOptionT): void;\n  stop(id?: audioT): void;\n}\n\nconst AudioPlayerContext = React.createContext({} as AudioPlayerContextT);\n\nexport default AudioPlayerContext;\n\nexport const AudioPlayerProvider = ({ children }: React.PropsWithChildren<{}>) => {\n  const soundWrapperRef = React.useRef<HTMLDivElement>(null);\n\n  const getAudioElement = (id: audioT): HTMLAudioElement | null => {\n    return soundWrapperRef.current?.querySelector(`[data-id=\"${id}\"]`) || null;\n  };\n  const handlePlayMusic = (id: audioT, options: audioPlayOptionT) => {\n    const audio = getAudioElement(id);\n    \n    if (audio) {\n      audio.loop = Boolean(options?.loop);\n      if (!audio.paused) {\n        audio.pause();\n        audio.currentTime = 0;\n      }\n\n      audio.play();\n    }\n  };\n\n  const handleStopMusic = (id?: audioT) => {\n    if (id) {\n      const audio = getAudioElement(id);\n      if (audio) {\n        audio.pause();\n        audio.currentTime = 0;\n      }\n    } else {\n      (Object.keys(soundMapper) as audioT[]).forEach((key) => {\n        handleStopMusic(key);\n      });\n    }\n  };\n\n  return (\n    <AudioPlayerContext.Provider\n      value={{\n        play: handlePlayMusic,\n        stop: handleStopMusic,\n      }}>\n      {children}\n      <div ref={soundWrapperRef}>\n        {Object.entries(soundMapper).map(([key, src]) => (\n          <audio key={key} data-id={key} src={src} />\n        ))}\n      </div>\n    </AudioPlayerContext.Provider>\n  );\n};\n","import React from 'react'\nimport { getEmptyImage } from 'react-dnd-html5-backend'\nimport { useDrag, DragSourceMonitor, XYCoord, useDrop } from 'react-dnd'\n\nimport Card from './Card'\nimport { draggableCard, sortCardC } from '../../types/card'\nimport GameContext from '../../contexts/GameContext'\nimport _ from 'lodash'\n\n\nexport default function SortableCard({\n  type, index, cardIndex, temp, parent\n}: sortCardC) {\n  const {\n    queue,\n    tempQueue,\n\n    changeDraggingIndex,\n    replaceQueue,\n\n    draggingIndex\n\n  } = React.useContext(GameContext)\n  const ref = React.useRef<HTMLDivElement>(null);\n  const [{ isOverCurrent }, drop] = useDrop({\n    accept: [\"sortCard\", \"card\"],\n    hover(item: draggableCard, monitor) {\n      if (!isOverCurrent || !ref.current) return;\n\n      const hoverCard = queue.filter(x => x.parent === parent)[index]\n      const hoverIndex = hoverCard ? _.findIndex(queue, [\"index\", hoverCard.index]) : index;\n\n      const hoverBoundingRect = ref.current?.getBoundingClientRect();\n      const clientOffset = monitor.getClientOffset();\n      \n      const hoverWidth = hoverBoundingRect.right - hoverBoundingRect.left \n      const hoverClientX = (clientOffset as XYCoord).x - hoverBoundingRect.left;\n\n      if (item.type === \"card\") {\n        if (!tempQueue) {\n          return;\n        }\n        const tempQueueIndex = item.index === undefined ? _.findIndex(queue, [\"index\", tempQueue.index]) : item.index\n\n        if (hoverWidth / 2 >= hoverClientX) {\n          replaceQueue(tempQueueIndex, hoverIndex, false)\n        } else {\n          replaceQueue(tempQueueIndex, hoverIndex, true)\n        }\n      }\n    },\n    collect: (monitor) => ({\n      hovered: monitor.isOver(),\n      isOverCurrent: monitor.isOver({ shallow: true }),\n      item: monitor.getItem(),\n    })\n  })\n\n  const [{ isDragging }, drag] = useDrag({\n    item: {\n      type: \"sortCard\",\n      aIndex: index,\n      index: cardIndex,\n      sort: true,\n      data: { type }\n    },\n    begin: (monitor: DragSourceMonitor) => {\n      if (cardIndex) changeDraggingIndex(cardIndex)\n    },\n    end: () => {\n      changeDraggingIndex(Infinity)\n    },\n    collect: (monitor: DragSourceMonitor) => ({\n      isDragging: monitor.isDragging(),\n    }),\n  })\n\n  drop(drag(ref));\n\n  const opacity = draggingIndex === cardIndex ? 0.5 : 1;\n\n  return (\n    <div style={{ opacity, height: '100%', position: 'relative' }}>\n      <div ref={ref} style={{\n        position: 'absolute',\n        zIndex: 100,\n        left: 0,\n        top: 0,\n        width: \"100%\",\n        height: '100%'\n      }}></div>\n      <Card\n        cardIndex={cardIndex}\n        type={type}\n        temp={temp}\n      />\n    </div>\n  )\n}\n","import { update } from 'lodash'\nimport React from 'react'\nimport { useDrop } from 'react-dnd'\nimport styled from 'styled-components'\nimport AudioPlayerContext from '../../contexts/AudioContext'\nimport GameContext from '../../contexts/GameContext'\nimport { card, cardSortEvent, cardType, draggableCard } from '../../types/card'\nimport Card from './Card'\nimport SortableCard from './SortableCard'\n\nconst Wrapper = styled.div<{ deps: number }>`\n  display: flex;\n  width: 100%;\n  height: 100%;\n  font-size: 0;\n\n  & .item:not(.for) {\n    width: ${props => `${2.45 - props.deps * 0.25}rem`};\n  }\n\n  & .item {\n    height: ${props => `${2.45 - props.deps * 0.25}rem`}\n  }\n\n  & .forStack {\n    min-width: ${props => `${2.45 - (props.deps + 1) * 0.25}rem`};\n  }\n`\n\ntype Props = {\n  cards?: Array<card>\n  parent?: number\n}\n\nexport function SortCardList({ parent }: Props) { \n  const {\n    queue,\n    tempQueue,\n\n    addQueue, \n    deleteQueue,\n    reSortSetQueue,\n    getQueueDeps,\n    updateQueue\n  } = React.useContext(GameContext)\n\n  const { play } = React.useContext(AudioPlayerContext)\n  const deps = getQueueDeps(parent)\n\n  const [{ hovered, item, isOverCurrent }, drop] = useDrop({\n    accept: \"card\",\n\n    hover() {\n      if (tempQueue && parent !== tempQueue.parent) {\n        updateQueue(tempQueue.index, {\n          ...tempQueue,\n          parent\n        })\n      }\n    },\n\n    drop(item: draggableCard, monitor) {\n      if (monitor.didDrop()) return;\n\n      play('drop')\n      reSortSetQueue(queue)\n      return undefined\n    },\n\n    collect: (monitor) => ({\n      hovered: monitor.isOver(),\n      isOverCurrent: monitor.isOver({ shallow: true }),\n      item: monitor.getItem(),\n    }),\n  })\n\n  React.useEffect(() => {\n    if (parent === undefined) {\n      if (!tempQueue && hovered) {\n        addQueue(item.data.type, parent, true)\n      } else if (tempQueue && !hovered) {\n        deleteQueue(tempQueue.index);\n      }\n    }\n  }, [hovered])\n\n  return (\n    <Wrapper deps={deps} ref={drop}>\n      {[\n        ...queue.filter(x => x.parent === parent),\n      ].map((val, k) => (\n        <div\n          key={val.index}\n          style={{\n            position: 'relative',\n            opacity: val.temp ? 0.5 : 1,\n          }}\n        >\n          {\n            !val.temp ? (\n              <SortableCard\n                parent={val.parent}\n                type={val.type}\n                cardIndex={val.index}\n                index={k}\n                temp={val.temp}\n              />\n            ) : (\n              <Card\n                cardIndex={val.index}\n                type={val.type}\n                temp={val.temp}\n              />\n            )\n          }\n        </div>\n      ))}\n    </Wrapper>\n  )\n}\n\nexport default function CardList({ cards = [] }: Props) {\n  return (\n    <Wrapper deps={0}>\n      {cards.map((val, k) => (\n        <div\n          key={k}\n          style={{\n            position: 'relative',\n            left: `${(k + 1) * -0.38}rem`\n          }}\n        >\n          <Card\n            cardIndex={val.index}\n            type={val.type}\n            temp={false}\n          />\n        </div>\n      ))}\n    </Wrapper>\n  )\n}\n","import React from 'react'\nimport styled from 'styled-components'\nimport forStartImg from '../../images/for-start.png'\nimport forEndImg from '../../images/for-end.png'\nimport { useDrop, XYCoord } from 'react-dnd'\nimport { card, cardSortEvent, draggableCard } from '../../types/card'\nimport { SortCardList } from './CardList'\n\nconst ForWrapper = styled.div`\n  position: relative;\n  width: auto;\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n`\n\nconst ForStack = styled.div`\n  position: relative;\n  z-index: 1000;\n  min-width: 2.45rem;\n  height: 100%;\n  border-top: .25rem solid #ce81fe; \n`\n\nconst ForRangeInput = styled.input`\n  position: absolute;\n  z-index: 101;\n  right: .45rem;\n  bottom: 5%;\n\n  width: 1.2rem;\n  height: .5rem;\n  background: #fff;\n  border: none;\n  border-radius: 300px;\n  text-align: center;\n  font-size: 0.5rem;\n\n  &:focus {\n    outline: none;\n  }\n`\n\ntype Props = {\n  cardIndex?: number\n  temp: boolean\n}\n\nexport default function ForCard({ cardIndex, temp }: Props) {\n\n  return (\n    <ForWrapper>\n      <img src={forStartImg} alt=\"for문 시작\"/>\n      <ForStack className=\"forStack\">\n        {(cardIndex !== -1 && !temp) && (\n          <SortCardList\n            parent={cardIndex}\n          />\n        )}\n      </ForStack>\n      <img src={forEndImg} alt=\"for문 끝\"/>\n      <ForRangeInput defaultValue=\"2\" id={`for-${cardIndex}`} />\n    </ForWrapper>\n  )\n}","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACcAAABlCAYAAADOM/pSAAAACXBIWXMAAAsSAAALEgHS3X78AAABDElEQVRoge3bwU3DQBgF4WeLQigBdwCdUAIVGJRKkg5SAh0EOoAOoIJFa9kIpHCZA/kPM4c9+PRp19c3tNayddq16yT3SW5z+fZXP2BPSR4LoLaex9SELY3rU5aD9frNPRRwnK3jbgq6lsYChj8TRxNHE0cTRxNHE0cTRxNHE0cTRxNHE0cTRxNHE0cTRxNHE0cTRxNHE0cTRxNHE0cTRxNHE0cTRxNHE0cTRxNHE0cTRxNHE0cTRxNHE0cTRxNHE0cTRxNHq4x76bhjAci5lgnpPslnMdhhmoePsR/rGrhKr9tydPnnpnnoT3uX5P3CwEOfTK8Xll+b6t5p1/qe+r831R1znObh7ftLki+CVym43fTOjwAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,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\"","import React from \"react\";\nimport styled from 'styled-components'\n\nimport startImg from '../../images/start.png'\nimport leftRotateImg from '../../images/left-rotate.png'\nimport rightRotateImg from '../../images/right-rotate.png'\nimport goImg from '../../images/go.png'\nimport { cardC } from \"../../types/card\";\nimport ForCard from \"./ForCard\";\n\nconst Item = styled.div`\n  position: relative;\n  height: 2.45rem;\n  font-size: 0;\n\n  > div {\n    height: 100%;\n  }\n\n  img {\n    width: auto;\n    height: 100%;\n  }\n\n  &.for {\n    position: relative;\n    display: flex;\n    align-items: center;\n    justify-content: flex-start;\n    overflow: hidden;\n    width: auto;\n  }\n`\n\nexport default React.forwardRef(function Card({ type, func, cardIndex, temp = false, ...props }: cardC, ref) {\n  return (\n    <Item {...props} className={`${type} item`}>\n      {type === \"start\" && <img src={startImg} alt=\"시작 이미지\" />}\n      {type === \"go\" && <img src={goImg} alt=\"직진\"/>}\n      {type === \"left-rotate\" && <img src={leftRotateImg} alt=\"왼쪽으로 90도 회전\"/>}\n      {type === \"right-rotate\" && <img src={rightRotateImg} alt=\"오른쪽으로 90도 회전\"/>}\n      {type === \"for\" && (\n        <ForCard\n          cardIndex={cardIndex}\n          temp={temp}\n        />\n      )}\n    </Item>\n  )\n})","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGUAAABlCAYAAABUfC3PAAAACXBIWXMAAAsSAAALEgHS3X78AAADr0lEQVR4nO3cTUgUcRzG8WfNsNKwFyULxe2SVJRBYbGH0kOn6IWCAoX0ENWxTt1qiy6d8ljRQYP14Kmgzr1Ai0mBQil2SUFMlGjdytjeJn7jS+Juq7Wr+4zzfCCqmd3xz//bzLS7+g84joPZAtGGIIBg0g7Jti4nFIklzf/MKIFoQxhAE4BKTf+i6QbQ7IQiLVNf0I0SiDasAfAEQPXSnwNarU4oYicE8iZH2KIgOdc4eaVCAM/rawE89vd80Bize7mdKcf8PhNEiq2HRdnl95kgE8zz1HB9QlEIKQohRSGkKIQUhZCiEFIUQopCSFEIKQohRSGkKIQUhZCiEFIUQopCSFEIKQohRSGkKITy2YYUrjiRdn9/YhQtI88W7Ti5QBflSsXxtPufxnvnNZnZOk4u0EVxfUwALz8kb9+zHliWheMc3JTR8BYaZ5Rvv4CRr6m3r8zCccjpRk9IUQgpCiFFIaQohBSFkKIQUhRCikJIUQhxvs1StBzYuS7l9mB+6ZzvAM95HABly4szHOTC4YxSmA/sWJtyVyVK5nwHeD7HsZ9WZ+Xby9fw96QlUWjonkJIUQgpCiHOG30KZy7fw6s3AyhaVYC7106janPZXx/b924YF2+04/3oGHZvr8TNSyexunBFDkf/bzxxpjzu7HODmM/jCdxqT//ZeuRhpxvE2PPs+V7iycvX6lXe+Vf/Pzxx+aqrqUL9oRq0PerExtJinD+1HxiKAfW3gc+JPw8sKgDCR939Q6Mx9yw5XFuNI3XeWsrM1vuyFfEOEIzF5YQi83/w22HgbOtEGAtypxHYUobBwUGUl5enfap9i1Ht6+uZDzj7rnry8tXb04N4PO4GmAixYTqIbf9k+zzMk1G2btvmhnFZmLZzE79PBrP9XuaZ/xLPtnffPrzo6Ei53es8GwVLJEAqekVPSFEIKQohRSFEd6O3F3UzBQtKUVlQkvFxYz/H0f1lYPrvXTP+zIYuyuxX2fZ5/Lw//k3DgpC+gk+iyxchRSGkKIQUhZCiEFIUQopCSFEIKQohRSFE/yGXrZ/yJN6T8XFiP8azMp7FQB/FVhuyX36iyxchRSGkKIQUhZCiEFIUQopCSFEIKQohRSGkKIQUhZCiEFIUQopCSFEIKQohRSGkKIQUhZCiELIoXX6fBDL9FqXF77NAxBYpu5/nhCJ2pjzw+2yQCDuhSGzqntJkP5jr9xnJsVYnFGm2IQQcx5keSiDaYHEuAPDWqmXeZieDnSG27hoA4DcPkeiJaeqkogAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","import React from 'react'\nimport { getEmptyImage } from 'react-dnd-html5-backend'\nimport { useDrag, DragSourceMonitor } from 'react-dnd'\n\nimport Card from './Card'\nimport { cardC } from '../../types/card'\n\ntype Props = {\n  val: number\n  begin?: () => void\n} & cardC \n\nexport default function DraggableCard({ type, val }: Props) {\n  const [{ isDragging }, drag, preview] = useDrag({\n    item: { type: \"card\", data: { type } },\n    collect: (monitor: DragSourceMonitor) => ({\n      isDragging: monitor.isDragging(),\n    }),\n  })\n\n  React.useEffect(() => {\n    preview(getEmptyImage(), { captureDraggingState: true })\n  }, [])\n\n  return (\n    <div ref={drag}>\n      <Card type={type} cardIndex={-1} />\n    </div>\n  )\n}\n","export default __webpack_public_path__ + \"static/media/play.b9298dae.svg\";","import { on } from 'process'\nimport React from 'react'\nimport styled from 'styled-components'\n\nimport playImg from '../../images/play.svg'\n\nconst PlayBtn = styled.div`\n  position: relative;\n  z-index: 2;\n  width: 3.5rem;\n  height: 3.5rem;\n  border-radius: 50%;\n  font-size: 0;\n\n  &:before {\n    position: absolute;\n    z-index: -1;\n    left: 0;\n    bottom: -.25rem;\n    width: 100%;\n    height: 100%;\n\n    border-radius: 50%;\n\n    background: #db7e19;\n    content: '';\n  }\n`\n\nconst PlayBtnWrapper = styled.div<{pushing: boolean}>`\n  position: relative;\n  bottom: ${props => props.pushing ? '-0.25rem' : '0'};\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  width: 100%;\n  height: 100%;\n\n  background: #f6941b;\n  border-radius: 50%;\n\n  transition: 150ms ease;\n\n  img {\n    width: 30%;\n  }\n`\n\ntype Props = {\n  onClick: () => void\n}\n\nexport default function PlayButton({ onClick }: Props) {\n  const [pushing, setPushing] = React.useState(false)\n\n  return (\n    <PlayBtn\n      onTouchStart={(e) => {\n        setPushing(true)\n      }}\n      onTouchEnd={(e) => {\n        setPushing(false)\n      }}\n      onClick={() => onClick()}\n    >\n      <PlayBtnWrapper pushing={pushing}>\n        <img src={playImg} alt=\"play\" />\n      </PlayBtnWrapper>\n    </PlayBtn>\n  )\n}\n","import React from 'react'\nimport styled from 'styled-components'\nimport GameContext from '../../contexts/GameContext'\nimport Card from '../card/Card'\n\n\nimport { SortCardList } from '../card/CardList'\nimport PlayButton from './PlayButton'\n\nconst QueueForm = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n\n  margin-top: 1rem;\n  margin-bottom: 1rem;\n`\n\nconst QueueWrapper = styled.div`\n  display: flex;\n  flex-wrap: nowrap;\n  width: 60%;\n  overflow: auto;\n\n  box-shadow: inset 1px 1px 1px rgba(0, 0, 0, .5);\n  border-radius: 100rem;\n\n  padding-top: .5rem;\n  padding-bottom: .5rem;\n  padding-left: .8rem;\n  padding-right: .8rem;\n\n  margin-right: 1rem;\n\n  background: #72d4c7;\n`\n\nconst Queue = styled.div`\n  display: flex;\n  flex: 1;\n  font-size: 0;\n`\n\nexport default function QueueControl() {\n  const { sendQueueData } = React.useContext(GameContext)\n  \n  return (\n    <QueueForm>\n      <QueueWrapper>\n        <Card type=\"start\" />\n        <Queue>\n          <SortCardList />\n        </Queue>\n      </QueueWrapper>\n      <PlayButton onClick={() => sendQueueData()} />\n    </QueueForm>\n  )\n}\n","import React from \"react\";\nimport styled from 'styled-components'\n\nimport { useDrop } from 'react-dnd'\n\nimport { cardType, draggableCard } from \"../../types/card\";\n\nimport DraggableCard from \"../card/DraggableCard\";\nimport QueueControl from \"./QueueControl\";\nimport GameContext from \"../../contexts/GameContext\";\nimport AudioPlayerContext from \"../../contexts/AudioContext\";\n\nconst Wrapper = styled.div`\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-end;\n  align-items: center;\n  width: 100%;\n`\n\nconst QueueControlWrapper = styled.div`\n  width: 100%;\n  bottom: 100%;\n`\n\nconst ItemWrapper = styled.div`\n  display: flex;\n  justify-content: center;\n  box-shadow: inset 0px 1px 1px rgba(0, 0, 0, .5);\n\n  width: 100%;\n  padding-top: .5rem;\n  padding-bottom: .5rem;\n  background: #48baa4;\n\n  & > div {\n    margin-left: .5rem;\n    margin-right: .5rem;\n  }\n`\n\nconst usingCards: Array<cardType> = [\"go\", \"left-rotate\", \"right-rotate\", \"for\"]\n\nexport default function Control() {\n  const { deleteQueue } = React.useContext(GameContext)\n  const { play } = React.useContext(AudioPlayerContext)\n  \n  const [, drop] = useDrop({\n    accept: \"sortCard\",\n    drop(item: draggableCard) {\n      play(\"drop\")\n      deleteQueue(item.index);\n      return undefined\n    },\n  })\n\n  return (\n    <Wrapper>\n      <QueueControlWrapper>\n        <QueueControl />\n      </QueueControlWrapper>\n      <ItemWrapper ref={drop}>\n        {usingCards.map((card, k) => (\n          <DraggableCard\n            val={k}\n            type={card}\n            key={k}\n          />\n        ))}\n      </ItemWrapper>\n    </Wrapper>\n  )\n}","import React from 'react'\nimport { XYCoord, useDragLayer } from 'react-dnd'\nimport GameContext from '../../contexts/GameContext'\nimport Card from '../card/Card'\nimport CardList from '../card/CardList'\n\nconst layerStyles: React.CSSProperties = {\n  position: 'fixed',\n  pointerEvents: 'none',\n  zIndex: 1001,\n  left: 0,\n  top: 0,\n  width: '100%',\n  height: '100%',\n}\n\nfunction getItemStyles(\n  initialOffset: XYCoord | null,\n  currentOffset: XYCoord | null,\n  isSnapToGrid: boolean,\n) {\n  if (!initialOffset || !currentOffset) {\n    return {\n      display: 'none',\n    }\n  }\n\n  let { x, y } = currentOffset\n\n  const transform = `translate(${x}px, ${y}px)`\n\n  return {\n    transform,\n    WebkitTransform: transform,\n  }\n}\n\nexport interface CustomDragLayerProps {\n  snapToGrid: boolean\n}\n\nexport const CustomDragLayer: React.FC<CustomDragLayerProps> = (props) => {\n  const { queue, draggingIndex } = React.useContext(GameContext)\n\n  const {\n    itemType,\n    isDragging,\n    item,\n    initialOffset,\n    currentOffset,\n  } = useDragLayer((monitor) => ({\n    item: monitor.getItem(),\n    itemType: monitor.getItemType(),\n    initialOffset: monitor.getInitialSourceClientOffset(),\n    currentOffset: monitor.getSourceClientOffset(),\n    isDragging: monitor.isDragging(),\n  }))\n\n  function renderItem() {\n    switch (itemType) {\n      case \"card\":\n        return <Card cardIndex={-1} type={item.data.type} />\n      case \"sortCard\":\n        return <Card cardIndex={item.index} type={item.data.type} />\n      default:\n        return null\n    }\n  }\n\n  if (!isDragging) {\n    return null\n  }\n  return (\n    <div style={layerStyles}>\n      <div\n        style={getItemStyles(initialOffset, currentOffset, props.snapToGrid)}\n      >\n        {renderItem()}\n      </div>\n    </div>\n  )\n}\n","import React from 'react'\nimport styled from 'styled-components'\nimport Map from './Map'\n\nconst MapEditWrapper = styled.div`\n  width: 100vh;\n  height: 80vh;\n  margin: 0 auto;\n`\n\nexport default function MapEdit() {\n  return (\n    <MapEditWrapper>\n      <Map editable={true} />\n    </MapEditWrapper>\n  )\n}\n","import React from 'react'\nimport styled from 'styled-components'\nimport GameContext from '../../contexts/GameContext'\nimport { coinT } from '../../types/coin'\nimport MapIcon from './MapIcon'\n\nconst MapEditWrapper = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  height: 20vh;\n`\n\nconst EditButton = styled.button`\n  height: 100%;\n  background: none;\n  border: none;\n\n  margin: 0 1rem;\n\n  color: #e91e63;\n\n  & span {\n    font-size: 2rem;\n  }\n\n  & img {\n    height: 50%;\n  }\n`\n\nconst mapIcons: Array<coinT> = [\"carrot\", \"start\", \"empty\"]\n\nexport default function MapEdit() {\n  const { activeMap, updateMap, mapStartIndex } = React.useContext(GameContext)\n\n  return (\n    <MapEditWrapper>\n      {mapIcons.map((type, index) => (\n        <EditButton key={index} onClick={() => {\n          if (type === \"start\" && mapStartIndex !== -1) {\n            updateMap(mapStartIndex, \"empty\")  \n          }\n          activeMap !== -1 && updateMap(activeMap, type)\n        }}>\n          {type === \"empty\" ? (\n            <span className=\"material-icons\">delete</span>\n          ) : (<MapIcon type={type} />)}\n        </EditButton>\n      ))}\n    </MapEditWrapper>\n  )\n}\n","import React from \"react\";\nimport { DndProvider } from \"react-dnd\";\nimport { HTML5Backend } from \"react-dnd-html5-backend\";\nimport { TouchBackend } from \"react-dnd-touch-backend\";\nimport styled from 'styled-components'\nimport GameContext, { GameContextProvider } from \"../contexts/GameContext\";\nimport Map from './game/Map'\nimport BluetoothButton from \"./game/BluetoothButton\";\n\nimport Control from \"./game/Control\";\nimport { CustomDragLayer } from \"./game/CustomDragLayer\";\nimport AudioPlayerContext from \"../contexts/AudioContext\";\nimport PlayButton from \"./game/PlayButton\";\nimport MapEditComponent from './game/MapEdit'\nimport MapEditControl from \"./game/MapEditControl\";\n\nconst Wrapper = styled.div`\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n\n  width: 100%;\n  height: 100%;\n`\n\nconst MapWrapper = styled.div`\n  display: flex;\n  flex: 1;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n  width: 100%;\n`\n\nconst ControlWrapper = styled.div`\n  width: 100%;\n`\n\nconst StatusBar = styled.div`\n  position: absolute;\n  right: 1rem;\n  top: 1rem;\n`\n\nconst StartWrapper = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: 100%;\n`\n\nconst MapScreen = styled.div`\n  position: relative;\n  width: 70vh;\n  height: 56vh;\n\n  background: #999;\n  border: .5rem solid #fff;\n\n  & > img {\n    width: auto;\n    height: 100%;\n  }\n`\n\nconst SettingButton = styled.button`\n  position: absolute;\n  right: -1rem;\n  top: -1rem;\n\n  width: 2rem;\n  height: 2rem;\n  border-radius: .5rem;\n  background: #f6941b;\n  border: none;\n\n  color: #fff;\n\n  span {\n    font-size: 1rem;\n  }\n`\n\nconst BackButton = styled.button`\n  position: absolute;\n  top: 1rem;\n  right: 1rem;\n\n  background: none;\n  border: none;\n\n  span {\n    font-size: 2rem;\n  }\n`\n\nfunction GameStart() {\n  const { page, changePage } = React.useContext(GameContext)\n  const { play } = React.useContext(AudioPlayerContext)\n\n  return (\n    <>\n      {\n        page === \"gameStart\" &&\n        <StartWrapper>\n          <PlayButton onClick={() => {\n            changePage(\"game\")\n            play(\"bgm\", {\n              loop: true\n            })\n          }} />\n        </StartWrapper>\n      }\n    </>\n  )\n}\n\n\nfunction GamePlay() {\n  const { page, changePage } = React.useContext(GameContext)\n  return (\n    <>\n      {\n        page === \"game\" &&\n        <Wrapper>\n          <MapWrapper>\n            <StatusBar>\n              <BluetoothButton />\n            </StatusBar>\n            <MapScreen>\n              <SettingButton onClick={() => changePage(\"mapEdit\")}>\n                <span className=\"material-icons\">settings</span>\n              </SettingButton>\n              <Map />\n            </MapScreen>\n          </MapWrapper>\n          <ControlWrapper>\n            <Control />\n          </ControlWrapper>\n        </Wrapper>\n      }\n    </>\n  )\n}\n\nfunction MapEdit() {\n  const { page, changePage } = React.useContext(GameContext)\n\n  return (\n    <>\n      {\n        page === \"mapEdit\" &&\n        <Wrapper>\n          <BackButton onClick={() => changePage(\"game\")}><span className=\"material-icons\">keyboard_backspace</span></BackButton>\n          <MapEditComponent />\n          <MapEditControl />\n        </Wrapper>\n      }\n    </>\n  )\n}\n\nexport default function Game() {\n  return (\n    <GameContextProvider>\n      <DndProvider backend={TouchBackend}>\n        <CustomDragLayer snapToGrid={false} />\n        <GamePlay />\n        <MapEdit />\n        <GameStart />\n      </DndProvider>\n    </GameContextProvider>\n  )\n}","import React from 'react';\nimport Game from './components/Game';\n\nimport { AudioPlayerProvider } from './contexts/AudioContext';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <AudioPlayerProvider>\n        <Game />\n      </AudioPlayerProvider>\n    </div>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}