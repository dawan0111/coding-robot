(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{41:function(e,n,t){},46:function(e,n,t){"use strict";t.r(n);var r=t(1),i=t(0),a=t.n(i),c=t(28),u=t.n(c),o=(t(41),t(3)),d=t(50),s=t(34),f=t(4),l=t(8),g=t(7),b=t(5),j=t(29),p=t.n(j),x=navigator,O=a.a.createContext({}),h=O;function v(e){var n=e.children,t=a.a.useState([]),i=Object(b.a)(t,2),c=i[0],u=i[1],o=a.a.useState(!1),d=Object(b.a)(o,2),s=d[0],f=d[1],j=a.a.useState(1/0),h=Object(b.a)(j,2),v=h[0],m=h[1],y=a.a.useMemo((function(){return c.find((function(e){return!0===e.temp}))}),[c]),C=a.a.useCallback((function(e){var n=0;u(e.reduce((function(e,t){return[].concat(Object(g.a)(e),[{type:t.type,index:n++,temp:!1}])}),[]))}),[]),w=a.a.useCallback((function(e,n){u((function(t){return[].concat(Object(g.a)(t),[{type:e,index:t.length,temp:void 0!==n}])}))}),[]),D=a.a.useCallback((function(e,n){u((function(t){return t.map((function(t){return t.index===e?t:Object(l.a)(Object(l.a)({},t),n)}))}))}),[]),k=a.a.useCallback((function(e){C(c.filter((function(n){return n.index!==e})))}),[C,c]),I=a.a.useCallback((function(e){C(c.filter((function(n){return n.index<e})))}),[C,c]),S=a.a.useCallback((function(e,n){var t=c.filter((function(n){return n.index>=e})),r=p.a.findIndex(c,["index",n]),i=c.reduce((function(n,i,a){return r===a&&(n=[].concat(Object(g.a)(n),Object(g.a)(t))),i.index>=e?n:[].concat(Object(g.a)(n),[i])}),[]);-1===r&&(i=[].concat(Object(g.a)(i),Object(g.a)(t))),u(i)}),[c]),Q=a.a.useCallback((function(){x.bluetooth.requestDevice({filters:[{services:[65504]}]}).then((function(e){return e.gatt.connect()})).then((function(e){return e.getPrimaryService(65504)})).then((function(e){return e.getCharacteristic(65505)})).then((function(e){f(!0);var n=new Uint8Array([187,37,5,68]);return e.writeValue(n)})).catch((function(e){console.error("Connection failed!",e)}))}),[]),T=a.a.useCallback((function(e){m(e)}),[]);return Object(r.jsx)(O.Provider,{value:{queue:c,tempQueue:y,bluetoothConnect:s,draggingIndex:v,addQueue:w,updateQueue:D,deleteQueue:k,deleteNextQueue:I,replaceQueue:S,reSortSetQueue:C,setBluetoothDevice:Q,changeDraggingIndex:T},children:n})}function m(){var e=Object(o.a)(["\n  border: none;\n  background: none;\n\n  color: ",";\n  opacity: ",";\n\n  &:focus {\n    outline: none;\n  }\n"]);return m=function(){return e},e}var y=f.a.button(m(),(function(e){return e.connect?"#0983fe":"#000"}),(function(e){return e.connect?1:.2}));function C(){var e=a.a.useContext(h),n=e.bluetoothConnect,t=e.setBluetoothDevice;return Object(r.jsx)(y,{connect:n,onClick:function(){return t()},children:Object(r.jsx)("span",{className:"material-icons",children:"bluetooth"})})}var w=t(52),D=t(48),k=t(51),I=t(21),S=t.p+"static/media/start.6df7bebe.svg",Q=t.p+"static/media/left-rotate.f9db7149.svg",T=t.p+"static/media/right-rotate.4443e6b6.svg",z=t.p+"static/media/go.b28a9fae.svg";function E(){var e=Object(o.a)(["\n  position: relative;\n  width: 3.2rem;\n  height: 3rem;\n  font-size: 0;\n\n  img {\n    width: auto;\n    height: 100%;\n  }\n"]);return E=function(){return e},e}var B=f.a.div(E()),q=a.a.forwardRef((function(e,n){var t=e.type,i=Object(I.a)(e,["type"]);return Object(r.jsxs)(B,Object(l.a)(Object(l.a)({},i),{},{children:["start"===t&&Object(r.jsx)("img",{src:S,alt:"\uc2dc\uc791 \uc774\ubbf8\uc9c0"}),"go"===t&&Object(r.jsx)("img",{src:z,alt:"\uc9c1\uc9c4"}),"left-rotate"===t&&Object(r.jsx)("img",{src:Q,alt:"\uc67c\ucabd\uc73c\ub85c 90\ub3c4 \ud68c\uc804"}),"right-rotate"===t&&Object(r.jsx)("img",{src:T,alt:"\uc624\ub978\ucabd\uc73c\ub85c 90\ub3c4 \ud68c\uc804"})]}))}));function F(e){var n=e.type,t=(e.val,Object(k.a)({item:{type:"card",data:{type:n}},collect:function(e){return{isDragging:e.isDragging()}}})),i=Object(b.a)(t,3),c=(i[0].isDragging,i[1]),u=i[2];return a.a.useEffect((function(){u(Object(D.a)(),{captureDraggingState:!0})}),[]),Object(r.jsx)("div",{ref:c,children:Object(r.jsx)(q,{type:n})})}var N=t.p+"static/media/play.b9298dae.svg";function P(e){var n=e.type,t=e.index,i=e.withDragging,c=e.moveCard,u=e.changeDraggingIndex,o=e.dropCard,d=e.updateCard,s=a.a.useRef(null),f=Object(w.a)({accept:["card","sortCard"],drop:function(){o()},hover:function(e,n){var r=e.index,i=t;if("sortCard"===e.type){var a;if(!s.current)return;var u=null===(a=s.current)||void 0===a?void 0:a.getBoundingClientRect(),o=(u.bottom-u.top)/2,f=n.getClientOffset().y-u.top;if(r<i&&f<o||r>i&&f>o)return;c(r,i)}else"card"===e.type&&d(i)}}),l=Object(b.a)(f,2)[1],g=Object(k.a)({item:{type:"sortCard",index:t,sort:!0,data:{type:n}},begin:function(e){u(t)},end:function(){u(1/0)},collect:function(e){return{isDragging:e.isDragging()}}}),j=Object(b.a)(g,3),p=j[0].isDragging,x=j[1],O=j[2];a.a.useEffect((function(){O(Object(D.a)(),{captureDraggingState:!0})}),[]),x(l(s));var h=p||i?.5:1;return Object(r.jsx)("div",{ref:s,style:{opacity:h},children:Object(r.jsx)(q,{type:n})})}function R(){var e=Object(o.a)(["\n  display: flex;\n  flex: 1;\n  font-size: 0;\n"]);return R=function(){return e},e}var A=f.a.div(R());function G(e){var n=e.cards,t=e.draggingIndex,i=Object(I.a)(e,["cards","draggingIndex"]);return Object(r.jsx)(A,{children:n.map((function(e,n){return Object(r.jsx)("div",{style:{position:"relative",left:"".concat(-.38*(n+1),"rem"),opacity:e.temp?.5:1},children:Object(r.jsx)(P,Object(l.a)(Object(l.a)({},i),{},{withDragging:e.index>=t,type:e.type,index:n}))},e.index)}))})}function J(e){var n=e.cards;return Object(r.jsx)(A,{children:n.map((function(e,n){return Object(r.jsx)("div",{style:{position:"relative",left:"".concat(-.38*(n+1),"rem")},children:Object(r.jsx)(q,{type:e.type})},n)}))})}function L(){var e=Object(o.a)(["\n  position: relative;\n  bottom: ",";\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  width: 100%;\n  height: 100%;\n\n  background: #f6941b;\n  border-radius: 50%;\n\n  transition: 150ms ease;\n\n  img {\n    width: 30%;\n  }\n"]);return L=function(){return e},e}function M(){var e=Object(o.a)(["\n  position: relative;\n  z-index: 2;\n  width: 4rem;\n  height: 4rem;\n  border-radius: 50%;\n  font-size: 0;\n\n  &:before {\n    position: absolute;\n    z-index: -1;\n    left: 0;\n    bottom: -.25rem;\n    width: 100%;\n    height: 100%;\n\n    border-radius: 50%;\n\n    background: #db7e19;\n    content: '';\n  }\n"]);return M=function(){return e},e}function U(){var e=Object(o.a)(["\n  flex: 1;\n  font-size: 0;\n"]);return U=function(){return e},e}function V(){var e=Object(o.a)(["\n  display: flex;\n  flex-wrap: nowrap;\n  width: 50%;\n  overflow: auto;\n\n  box-shadow: inset 1px 1px 1px rgba(0, 0, 0, .5);\n  border-radius: 100rem;\n\n  padding-top: .5rem;\n  padding-bottom: .5rem;\n  padding-left: .8rem;\n  padding-right: .8rem;\n\n  margin-right: 1rem;\n\n  background: #72d4c7;\n"]);return V=function(){return e},e}function W(){var e=Object(o.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n\n  margin-top: 1rem;\n  margin-bottom: 1rem;\n"]);return W=function(){return e},e}var H=f.a.div(W()),K=f.a.div(V()),X=f.a.div(U()),Y=f.a.div(M()),Z=f.a.div(L(),(function(e){return e.pushing?"-0.25rem":"0"}));function $(){var e=a.a.useContext(h),n=e.queue,t=e.tempQueue,i=e.draggingIndex,c=e.addQueue,u=(e.updateQueue,e.deleteQueue),o=e.replaceQueue,d=e.changeDraggingIndex,s=e.reSortSetQueue,f=a.a.useState(!1),l=Object(b.a)(f,2),j=l[0],p=l[1],x=Object(w.a)({accept:"card",drop:function(e,t){s(n)},collect:function(e){return{hovered:e.isOver(),item:e.getItem()}}}),O=Object(b.a)(x,2),v=O[0],m=v.hovered,y=v.item,C=O[1];return a.a.useEffect((function(){!t&&m?c(y.data.type,!0):t&&!m&&u(t.index)}),[y,c,u,t,m]),Object(r.jsxs)(H,{children:[Object(r.jsxs)(K,{children:[Object(r.jsx)(q,{type:"start"}),Object(r.jsx)(X,{ref:C,children:Object(r.jsx)(G,{draggingIndex:i,cards:[].concat(Object(g.a)(n),[{type:"temp",index:n.length,temp:!1}]),updateCard:function(e){t&&o(t.index,e)},dropCard:function(){return s(n)},changeDraggingIndex:d,moveCard:o,addingCard:function(e){}})})]}),Object(r.jsx)(Y,{onTouchStart:function(){return p(!0)},onTouchEnd:function(){return p(!1)},children:Object(r.jsx)(Z,{pushing:j,children:Object(r.jsx)("img",{src:N,alt:"play"})})})]})}function _(){var e=Object(o.a)(["\n  display: flex;\n  justify-content: center;\n  box-shadow: inset 0px 1px 1px rgba(0, 0, 0, .5);\n\n  width: 100%;\n  padding-top: .5rem;\n  padding-bottom: .5rem;\n  background: #48baa4;\n\n  & > div {\n    margin-left: .2rem;\n    margin-right: .2rem;\n  }\n"]);return _=function(){return e},e}function ee(){var e=Object(o.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 100%;\n"]);return ee=function(){return e},e}var ne=f.a.div(ee()),te=f.a.div(_()),re=["go","left-rotate","right-rotate"];function ie(){var e=a.a.useContext(h).deleteNextQueue,n=Object(w.a)({accept:"sortCard",drop:function(n){e(n.index)}}),t=Object(b.a)(n,2)[1];return Object(r.jsxs)(ne,{children:[Object(r.jsx)($,{}),Object(r.jsx)(te,{ref:t,children:re.map((function(e,n){return Object(r.jsx)(F,{val:n,type:e},n)}))})]})}var ae=t(49),ce={position:"fixed",pointerEvents:"none",zIndex:100,left:0,top:0,width:"100%",height:"100%"};function ue(e,n,t){if(!e||!n)return{display:"none"};var r=n.x,i=n.y,a="translate(".concat(r,"px, ").concat(i,"px)");return{transform:a,WebkitTransform:a}}var oe=function(e){var n=a.a.useContext(h),t=n.queue,i=n.draggingIndex,c=Object(ae.a)((function(e){return{item:e.getItem(),itemType:e.getItemType(),initialOffset:e.getInitialSourceClientOffset(),currentOffset:e.getSourceClientOffset(),isDragging:e.isDragging()}})),u=c.itemType,o=c.isDragging,d=c.item,s=c.initialOffset,f=c.currentOffset;return o?Object(r.jsx)("div",{style:ce,children:Object(r.jsx)("div",{style:ue(s,f,e.snapToGrid),children:function(){switch(u){case"card":return Object(r.jsx)(q,{type:d.data.type});case"sortCard":return Object(r.jsx)(J,{cards:t.filter((function(e){return e.index>=i}))});default:return null}}()})}):null};function de(){var e=Object(o.a)(["\n  position: absolute;\n  right: 1rem;\n  top: 1rem;\n"]);return de=function(){return e},e}function se(){var e=Object(o.a)(["\n  width: 100%;\n"]);return se=function(){return e},e}function fe(){var e=Object(o.a)(["\n  position: relative;\n  width: 100%;\n"]);return fe=function(){return e},e}function le(){var e=Object(o.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n\n  width: 100%;\n  height: 100%;\n\n  background: #99eadf;\n"]);return le=function(){return e},e}var ge=f.a.div(le()),be=f.a.div(fe()),je=f.a.div(se()),pe=f.a.div(de());function xe(){return Object(r.jsx)(v,{children:Object(r.jsxs)(d.a,{backend:s.a,children:[Object(r.jsx)(oe,{snapToGrid:!1}),Object(r.jsxs)(ge,{children:[Object(r.jsx)(be,{children:Object(r.jsx)(pe,{children:Object(r.jsx)(C,{})})}),Object(r.jsx)(je,{children:Object(r.jsx)(ie,{})})]})]})})}var Oe=function(){return Object(r.jsx)("div",{className:"App",children:Object(r.jsx)(xe,{})})},he=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,53)).then((function(n){var t=n.getCLS,r=n.getFID,i=n.getFCP,a=n.getLCP,c=n.getTTFB;t(e),r(e),i(e),a(e),c(e)}))};u.a.render(Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsx)(Oe,{})}),document.getElementById("root")),he(console.log)}},[[46,1,2]]]);
//# sourceMappingURL=main.1b13b78c.chunk.js.map